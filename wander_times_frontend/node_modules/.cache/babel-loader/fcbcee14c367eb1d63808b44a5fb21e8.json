{"ast":null,"code":"var _jsxFileName = \"/Users/stan-0/Desktop/personal projects/wander_times/wander_times_frontend/src/Components/Login.js\";\nimport React from \"react\";\nimport { Form, Button, Modal } from \"semantic-ui-react\";\n\nclass Login extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = () => {\n      // console.log(\"LOGGING IN\", this.state)\n      fetch(\"http://localhost:3010/api/v1/login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accepts: \"application/json\"\n        },\n        body: JSON.stringify(this.state)\n      }).then(res => res.json()).then(response => {\n        if (response.errors) {\n          alert(response.errors);\n        } else {\n          // response is the user object\n          console.log(response);\n          localStorage.setItem(\"token\", response.token);\n          this.props.setCurrentUser(response.user); // this.props.history.push(`/users/${response.user.id}`)\n\n          this.props.history.push(\"/home\");\n        }\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(Modal, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"Login Form\"), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Username\"), React.createElement(\"input\", {\n      onChange: this.handleChange,\n      name: \"username\",\n      value: this.state.username,\n      placeholder: \"Username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    })), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      onChange: this.handleChange,\n      type: \"password\",\n      name: \"password\",\n      value: this.state.password,\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    })), React.createElement(Button, {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Submit\")));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/stan-0/Desktop/personal projects/wander_times/wander_times_frontend/src/Components/Login.js"],"names":["React","Form","Button","Modal","Login","Component","state","username","password","handleChange","event","setState","target","name","value","handleSubmit","fetch","method","headers","Accepts","body","JSON","stringify","then","res","json","response","errors","alert","console","log","localStorage","setItem","token","props","setCurrentUser","user","history","push","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,KAAvB,QAAoC,mBAApC;;AAEA,MAAMC,KAAN,SAAoBJ,KAAK,CAACK,SAA1B,CAAoC;AAAA;AAAA;AAAA,SAClCC,KADkC,GAC1B;AACNC,MAAAA,QAAQ,EAAE,EADJ;AAENC,MAAAA,QAAQ,EAAE;AAFJ,KAD0B;;AAAA,SAMlCC,YANkC,GAMnBC,KAAK,IAAI;AACtB,WAAKC,QAAL,CAAc;AACZ,SAACD,KAAK,CAACE,MAAN,CAAaC,IAAd,GAAqBH,KAAK,CAACE,MAAN,CAAaE;AADtB,OAAd;AAGD,KAViC;;AAAA,SAYlCC,YAZkC,GAYnB,MAAM;AACnB;AACAC,MAAAA,KAAK,CAAC,oCAAD,EAAuC;AAC1CC,QAAAA,MAAM,EAAE,MADkC;AAE1CC,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEPC,UAAAA,OAAO,EAAE;AAFF,SAFiC;AAM1CC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAKhB,KAApB;AANoC,OAAvC,CAAL,CAQGiB,IARH,CAQQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EARf,EASGF,IATH,CASQG,QAAQ,IAAI;AAChB,YAAIA,QAAQ,CAACC,MAAb,EAAqB;AACnBC,UAAAA,KAAK,CAACF,QAAQ,CAACC,MAAV,CAAL;AACD,SAFD,MAEO;AACL;AACAE,UAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACAK,UAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BN,QAAQ,CAACO,KAAvC;AACA,eAAKC,KAAL,CAAWC,cAAX,CAA0BT,QAAQ,CAACU,IAAnC,EAJK,CAKL;;AACA,eAAKF,KAAL,CAAWG,OAAX,CAAmBC,IAAnB,CAAwB,OAAxB;AACD;AACF,OApBH;AAqBD,KAnCiC;AAAA;;AAqClCC,EAAAA,MAAM,GAAG;AACP,WACH,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,oBAAC,IAAD;AAAM,MAAA,QAAQ,EAAE,KAAKxB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACH,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADG,EAIE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE;AACE,MAAA,QAAQ,EAAE,KAAKN,YADjB;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,KAAK,EAAE,KAAKH,KAAL,CAAWC,QAHpB;AAIE,MAAA,WAAW,EAAC,UAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAJF,EAaE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE;AACE,MAAA,QAAQ,EAAE,KAAKE,YADjB;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,IAAI,EAAC,UAHP;AAIE,MAAA,KAAK,EAAE,KAAKH,KAAL,CAAWE,QAJpB;AAKE,MAAA,WAAW,EAAC,UALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAbF,EAuBE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAvBF,CADL,CADG;AA6BD;;AAnEiC;;AAsEpC,eAAeJ,KAAf","sourcesContent":["import React from \"react\";\nimport { Form, Button, Modal } from \"semantic-ui-react\";\n\nclass Login extends React.Component {\n  state = {\n    username: \"\",\n    password: \"\"\n  };\n\n  handleChange = event => {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  };\n\n  handleSubmit = () => {\n    // console.log(\"LOGGING IN\", this.state)\n    fetch(\"http://localhost:3010/api/v1/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accepts: \"application/json\"\n      },\n      body: JSON.stringify(this.state)\n    })\n      .then(res => res.json())\n      .then(response => {\n        if (response.errors) {\n          alert(response.errors);\n        } else {\n          // response is the user object\n          console.log(response);\n          localStorage.setItem(\"token\", response.token);\n          this.props.setCurrentUser(response.user);\n          // this.props.history.push(`/users/${response.user.id}`)\n          this.props.history.push(\"/home\");\n        }\n      });\n  };\n\n  render() {\n    return (\n\t<Modal>\n      <Form onSubmit={this.handleSubmit}>\n\t  <Modal.Header >\n        Login Form\n\t\t</Modal.Header>\n        <Form.Field>\n          <label>Username</label>\n          <input\n            onChange={this.handleChange}\n            name=\"username\"\n            value={this.state.username}\n            placeholder=\"Username\"\n          />\n        </Form.Field>\n        <Form.Field>\n          <label>Password</label>\n          <input\n            onChange={this.handleChange}\n            type=\"password\"\n            name=\"password\"\n            value={this.state.password}\n            placeholder=\"Password\"\n          />\n        </Form.Field>\n        <Button type=\"submit\">Submit</Button>\n      </Form>\n\t  </Modal>\n    );\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}