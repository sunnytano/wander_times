{"ast":null,"code":"var _jsxFileName = \"/Users/stan-0/Desktop/personal projects/wander_times/wander_times_frontend/src/Components/ArticleCard.js\";\nimport React, { Fragment } from 'react';\nimport { Card, Button, Image } from 'semantic-ui-react';\n\nclass ArticleCard extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      clicked: false\n    };\n\n    this.handleButton = event => {\n      this.handleSubmit(event, this.props.currentUser.id, this.props.article.id);\n      this.handleColor();\n    };\n\n    this.handleColor = () => {\n      this.setState({\n        clicked: !this.state.clicked\n      });\n    };\n\n    this.handleSubmit = (event, user_id, article_id) => {\n      if (!this.props.likes.find(liked => liked.article_id === article_id)) {\n        event.preventDefault();\n        let url = \"http://localhost:3010/api/v1/likes\";\n        fetch(url, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\",\n            \"Authorization\": \"Bearer \".concat(localStorage.token)\n          },\n          body: JSON.stringify({\n            user_id: user_id,\n            article_id: article_id\n          })\n        }).then(res => res.json()).then(response => this.props.addLikes(response));\n        this.setState({\n          backgroundColor: \"white\"\n        });\n      }\n    };\n\n    this.handleDelete = articleId => {\n      let url = \"http://localhost:3010/api/v1/likes/\".concat(articleId);\n      fetch(url, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(() => {\n        this.props.deleteLikes(articleId);\n      });\n    };\n\n    this.handleClick = () => {\n      this.props.selectedArticle(this.props.article);\n    };\n  }\n\n  render() {\n    //     { \n    //         !this.props.currentUser\n    //         ?\n    //         null\n    //         :\n    //         <Fragment>\n    //         {this.props.addLikes \n    //         ?\n    //          <Button onClick={(event)=>this.handleSubmit(event, this.props.currentUser.id, this.props.article.id)} className=\"ui button\">Add Favorite</Button>\n    //         :\n    //          <Button onClick={()=>{this.handleDelete(this.props.likes.id)}} className=\"ui button\">Remove Favorite</Button>\n    //         }\n    //          </Fragment>\n    // }\n    console.log(this.props.currentUser);\n    let btn = !this.state.clicked ? \"black\" : \"white\"; // console.log(\"currentUser\", this.props.currentUser.id, \"articleID\", this.props.article.id)\n\n    const _this$props$article = this.props.article,\n          title = _this$props$article.title,\n          author = _this$props$article.author,\n          overview = _this$props$article.overview,\n          image = _this$props$article.image,\n          url = _this$props$article.url;\n    return React.createElement(Card, {\n      onClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Image, {\n      src: image,\n      wrapped: true,\n      ui: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(Card.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: url,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, title)), React.createElement(Card.Meta, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"author\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, author)), React.createElement(Card.Description, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, overview)), this.props.currentUser ? React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, this.props.addLikes ? React.createElement(Button, {\n      style: {\n        backgroundColor: this.state.backgroundColor\n      },\n      onClick: e => this.handleButton(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Add Favorite\") : React.createElement(Button, {\n      className: btn,\n      style: !this.state.clicked ? {\n        backgroundColor: \"grey\"\n      } : {\n        backgroundColor: \"green\"\n      },\n      onClick: () => {\n        this.handleDelete(this.props.likes.id);\n      },\n      className: \"ui button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Remove Favorite\")) : React.createElement(Button, {\n      onClick: () => window.alert(\"sign in first\"),\n      className: \"ui button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Add Favorite\"));\n  }\n\n}\n\nexport default ArticleCard;","map":{"version":3,"sources":["/Users/stan-0/Desktop/personal projects/wander_times/wander_times_frontend/src/Components/ArticleCard.js"],"names":["React","Fragment","Card","Button","Image","ArticleCard","Component","state","clicked","handleButton","event","handleSubmit","props","currentUser","id","article","handleColor","setState","user_id","article_id","likes","find","liked","preventDefault","url","fetch","method","headers","localStorage","token","body","JSON","stringify","then","res","json","response","addLikes","backgroundColor","handleDelete","articleId","deleteLikes","handleClick","selectedArticle","render","console","log","btn","title","author","overview","image","e","window","alert"],"mappings":"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","sourcesContent":["import React, { Fragment } from 'react'\nimport { Card, Button, Image } from 'semantic-ui-react'\n\nclass ArticleCard extends React.Component {\n  \n    state={\n        clicked: false,\n    }\n\n\n    handleButton = (event) => {\n        this.handleSubmit(event, this.props.currentUser.id, this.props.article.id)\n        this.handleColor();\n    }\n\n    handleColor=()=>{\n        this.setState({\n            clicked: !this.state.clicked\n        })\n    }\n\n    handleSubmit = (event, user_id, article_id) => {\n        if(!this.props.likes.find(liked=>liked.article_id === article_id)){\n        event.preventDefault()\n        let url=\"http://localhost:3010/api/v1/likes\"\n        fetch(url,{\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Accept\": \"application/json\",\n                \"Authorization\": `Bearer ${localStorage.token}`\n            },\n            body: JSON.stringify({\n                user_id: user_id,\n                article_id: article_id\n            })\n        })\n        .then(res=>res.json())\n        .then(response=>\n            this.props.addLikes(response))\n            this.setState({\n                backgroundColor: \"white\"\n           })\n    } \n    }\n\n    handleDelete = articleId => {\n        let url= `http://localhost:3010/api/v1/likes/${articleId}`\n        fetch(url,{\n          method: \"DELETE\",\n          headers: { \n            \"Content-Type\": \"application/json\"\n          }\n        })\n        .then(()=>{this.props.deleteLikes(articleId)})\n    }\n\n    handleClick = () => {\n        this.props.selectedArticle(this.props.article)\n    }\n\n    render(){\n\n    //     { \n    //         !this.props.currentUser\n    //         ?\n    //         null\n    //         :\n    //         <Fragment>\n    //         {this.props.addLikes \n    //         ?\n    //          <Button onClick={(event)=>this.handleSubmit(event, this.props.currentUser.id, this.props.article.id)} className=\"ui button\">Add Favorite</Button>\n    //         :\n    //          <Button onClick={()=>{this.handleDelete(this.props.likes.id)}} className=\"ui button\">Remove Favorite</Button>\n    //         }\n    //          </Fragment>\n    \n    // }\n        console.log(this.props.currentUser)\n        let btn = !this.state.clicked ? \"black\" : \"white\" \n        // console.log(\"currentUser\", this.props.currentUser.id, \"articleID\", this.props.article.id)\n        const { title, author, overview, image, url } = this.props.article\n        return(\n            <Card onClick={this.handleClick}>\n                <Image src={image} wrapped ui={false} />\n                <Card.Content>\n                    <Card.Header>\n                        <a href={url}>\n                            {title}\n                        </a>\n                    </Card.Header>\n                    <Card.Meta>\n                    <span className='author'>{author}</span>\n                    </Card.Meta>\n                    <Card.Description>\n                        {overview}\n                    </Card.Description>\n            </Card.Content>\n         \n            { \n                this.props.currentUser\n                ?\n                <Fragment>\n                {this.props.addLikes \n                ?\n                 <Button style={{backgroundColor: this.state.backgroundColor}} onClick={(e)=>this.handleButton(e)}>Add Favorite</Button>\n                :\n                 <Button className={btn} style={!this.state.clicked ? {backgroundColor: \"grey\"} : {backgroundColor: \"green\"}} onClick={()=>{this.handleDelete(this.props.likes.id)}} className=\"ui button\">Remove Favorite</Button>\n                }\n                 </Fragment>\n                :\n                <Button onClick={()=>window.alert(\"sign in first\")} className=\"ui button\">Add Favorite</Button>\n\n        }\n        </Card>\n        )\n    }\n}\n\nexport default ArticleCard\n\n"]},"metadata":{},"sourceType":"module"}