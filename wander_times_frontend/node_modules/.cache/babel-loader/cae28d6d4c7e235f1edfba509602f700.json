{"ast":null,"code":"var _jsxFileName = \"/Users/stan-0/Desktop/personal projects/wander_times/wander_times_frontend/src/Components/Login.js\";\nimport React from 'react';\nimport { Form, Button } from 'semantic-ui-react';\n\nclass Login extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = () => {\n      // console.log(\"LOGGING IN\", this.state)\n      fetch(\"http://localhost:3010/api/v1/login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Accepts\": \"application/json\"\n        },\n        body: JSON.stringify(this.state)\n      }).then(res => res.json()).then(response => {\n        if (response.errors) {\n          alert(response.errors);\n        } else {\n          // response is the user object\n          console.log(response);\n          localStorage.setItem(\"token\", response.token);\n          this.props.setCurrentUser(response.user); // this.props.history.push(`/users/${response.user.id}`)\n\n          this.props.history.push('/home');\n        }\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"Login Form\", React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"Username\"), React.createElement(\"input\", {\n      onChange: this.handleChange,\n      name: \"username\",\n      value: this.state.username,\n      placeholder: \"Username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    })), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      onChange: this.handleChange,\n      type: \"password\",\n      name: \"password\",\n      value: this.state.password,\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    })), React.createElement(Button, {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"Submit\"));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/stan-0/Desktop/personal projects/wander_times/wander_times_frontend/src/Components/Login.js"],"names":["React","Form","Button","Login","Component","state","username","password","handleChange","event","setState","target","name","value","handleSubmit","fetch","method","headers","body","JSON","stringify","then","res","json","response","errors","alert","console","log","localStorage","setItem","token","props","setCurrentUser","user","history","push","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,MAAf,QAA8B,mBAA9B;;AAEA,MAAMC,KAAN,SAAoBH,KAAK,CAACI,SAA1B,CAAoC;AAAA;AAAA;AAAA,SACnCC,KADmC,GAC3B;AACPC,MAAAA,QAAQ,EAAE,EADH;AAEPC,MAAAA,QAAQ,EAAE;AAFH,KAD2B;;AAAA,SAMnCC,YANmC,GAMnBC,KAAD,IAAW;AACzB,WAAKC,QAAL,CAAc;AACb,SAACD,KAAK,CAACE,MAAN,CAAaC,IAAd,GAAqBH,KAAK,CAACE,MAAN,CAAaE;AADrB,OAAd;AAGA,KAVkC;;AAAA,SAYnCC,YAZmC,GAYpB,MAAM;AACpB;AACAC,MAAAA,KAAK,CAAC,oCAAD,EAAuC;AAC3CC,QAAAA,MAAM,EAAE,MADmC;AAE3CC,QAAAA,OAAO,EAAE;AACR,0BAAgB,kBADR;AAER,qBAAW;AAFH,SAFkC;AAM3CC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAKf,KAApB;AANqC,OAAvC,CAAL,CAQCgB,IARD,CAQMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EARb,EASCF,IATD,CASMG,QAAQ,IAAI;AACjB,YAAIA,QAAQ,CAACC,MAAb,EAAqB;AACpBC,UAAAA,KAAK,CAACF,QAAQ,CAACC,MAAV,CAAL;AACA,SAFD,MAEO;AACN;AACAE,UAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACAK,UAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BN,QAAQ,CAACO,KAAvC;AACA,eAAKC,KAAL,CAAWC,cAAX,CAA0BT,QAAQ,CAACU,IAAnC,EAJM,CAKN;;AACA,eAAKF,KAAL,CAAWG,OAAX,CAAmBC,IAAnB,CAAwB,OAAxB;AAEA;AACD,OArBD;AAsBA,KApCkC;AAAA;;AAsCnCC,EAAAA,MAAM,GAAE;AACP,WACC,oBAAC,IAAD;AAAM,MAAA,QAAQ,EAAE,KAAKvB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEG,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE;AAAO,MAAA,QAAQ,EAAE,KAAKN,YAAtB;AAAoC,MAAA,IAAI,EAAC,UAAzC;AAAoD,MAAA,KAAK,EAAE,KAAKH,KAAL,CAAWC,QAAtE;AAAgF,MAAA,WAAW,EAAC,UAA5F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAFH,EAMG,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE;AAAO,MAAA,QAAQ,EAAE,KAAKE,YAAtB;AAAoC,MAAA,IAAI,EAAC,UAAzC;AAAoD,MAAA,IAAI,EAAC,UAAzD;AAAoE,MAAA,KAAK,EAAE,KAAKH,KAAL,CAAWE,QAAtF;AAAgG,MAAA,WAAW,EAAC,UAA5G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CANH,EAUG,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVH,CADD;AAcA;;AArDkC;;AAwDpC,eAAeJ,KAAf","sourcesContent":["import React from 'react'\nimport { Form, Button, } from 'semantic-ui-react'\n\nclass Login extends React.Component {\n\tstate = {\n\t\tusername: \"\",\n\t\tpassword: \"\",\n\t}\n\n\thandleChange = (event) => {\n\t\tthis.setState({\n\t\t\t[event.target.name]: event.target.value\n\t\t})\n\t}\n\n\thandleSubmit = () => {\n\t\t// console.log(\"LOGGING IN\", this.state)\n\t\tfetch(\"http://localhost:3010/api/v1/login\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"Accepts\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify(this.state)\n\t\t})\n\t\t.then(res => res.json())\n\t\t.then(response => {\n\t\t\tif (response.errors) {\n\t\t\t\talert(response.errors)\n\t\t\t} else {\n\t\t\t\t// response is the user object\n\t\t\t\tconsole.log(response)\n\t\t\t\tlocalStorage.setItem(\"token\", response.token)\n\t\t\t\tthis.props.setCurrentUser(response.user)\n\t\t\t\t// this.props.history.push(`/users/${response.user.id}`)\n\t\t\t\tthis.props.history.push('/home')\n\t\t\t\t\n\t\t\t}\n\t\t})\n\t}\n\n\trender(){\n\t\treturn (\n\t\t\t<Form onSubmit={this.handleSubmit}>\n                Login Form\n\t\t    <Form.Field>\n\t\t      <label>Username</label>\n\t\t      <input onChange={this.handleChange} name=\"username\" value={this.state.username} placeholder='Username' />\n\t\t    </Form.Field>\n\t\t    <Form.Field>\n\t\t      <label>Password</label>\n\t\t      <input onChange={this.handleChange} type=\"password\" name=\"password\" value={this.state.password} placeholder='Password' />\n\t\t    </Form.Field>\n\t\t    <Button type='submit'>Submit</Button>\n\t\t  </Form>\n\t\t)\n\t}\n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}