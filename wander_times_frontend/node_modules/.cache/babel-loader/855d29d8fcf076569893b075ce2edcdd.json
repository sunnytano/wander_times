{"ast":null,"code":"var _jsxFileName = \"/Users/stan-0/Desktop/personal projects/wander_times/wander_times_frontend/src/Components/ArticleCard.js\";\nimport React from 'react';\nimport { Card, Button, Image, Form } from 'semantic-ui-react';\n\nclass ArticleCard extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleSubmit = (event, user_id, article_id) => {\n      event.preventDefault();\n      let url = \"http://localhost:3010/api/v1/likes\";\n      fetch(url, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Accept\": \"application/json\",\n          \"Authorization\": \"Bearer \".concat(localStorage.token)\n        },\n        body: JSON.stringify({\n          user_id: user_id,\n          article_id: article_id\n        })\n      }).then(res => res.json()).then(response => this.props.addLikes(response));\n    };\n\n    this.deleteLikes = articleId => {\n      let url = \"http://localhost:3010/api/v1/likes/\".concat(articleId);\n      fetch(url, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(data => {\n        let filtered = this.state.likes.filter(liked => liked.id !== articleId);\n        this.setState({\n          likes: filtered\n        });\n      });\n    };\n\n    this.handleClick = () => {\n      this.props.selectedArticle(this.props.article);\n    };\n  }\n\n  render() {\n    console.log(this.props.article); // console.log(\"currentUser\", this.props.currentUser.id, \"articleID\", this.props.article.id)\n\n    const _this$props$article = this.props.article,\n          title = _this$props$article.title,\n          author = _this$props$article.author,\n          overview = _this$props$article.overview,\n          image = _this$props$article.image,\n          url = _this$props$article.url;\n    return React.createElement(Card, {\n      onClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(Image, {\n      src: image,\n      wrapped: true,\n      ui: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(Card.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      href: url,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, title), React.createElement(Card.Meta, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"author\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, author)), React.createElement(Card.Description, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, overview)), this.props.addLikes ? React.createElement(Button, {\n      onClick: event => this.handleSubmit(event, this.props.currentUser.id, this.props.article.id),\n      className: \"ui button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Add Favorite\") : React.createElement(Button, {\n      onClick: () => {\n        this.props.deleteLikes(this.props.likes);\n      },\n      className: \"ui button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Remove Favorite\"));\n  }\n\n}\n\nexport default ArticleCard;","map":{"version":3,"sources":["/Users/stan-0/Desktop/personal projects/wander_times/wander_times_frontend/src/Components/ArticleCard.js"],"names":["React","Card","Button","Image","Form","ArticleCard","Component","handleSubmit","event","user_id","article_id","preventDefault","url","fetch","method","headers","localStorage","token","body","JSON","stringify","then","res","json","response","props","addLikes","deleteLikes","articleId","data","filtered","state","likes","filter","liked","id","setState","handleClick","selectedArticle","article","render","console","log","title","author","overview","image","currentUser"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,KAAvB,EAA8BC,IAA9B,QAA0C,mBAA1C;;AAEA,MAAMC,WAAN,SAA0BL,KAAK,CAACM,SAAhC,CAA0C;AAAA;AAAA;;AAAA,SAEtCC,YAFsC,GAEvB,CAACC,KAAD,EAAQC,OAAR,EAAiBC,UAAjB,KAAgC;AAC3CF,MAAAA,KAAK,CAACG,cAAN;AACA,UAAIC,GAAG,GAAC,oCAAR;AACAC,MAAAA,KAAK,CAACD,GAAD,EAAK;AACNE,QAAAA,MAAM,EAAE,MADF;AAENC,QAAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAEL,oBAAU,kBAFL;AAGL,4CAA2BC,YAAY,CAACC,KAAxC;AAHK,SAFH;AAONC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBX,UAAAA,OAAO,EAAEA,OADQ;AAEjBC,UAAAA,UAAU,EAAEA;AAFK,SAAf;AAPA,OAAL,CAAL,CAYCW,IAZD,CAYMC,GAAG,IAAEA,GAAG,CAACC,IAAJ,EAZX,EAaCF,IAbD,CAaMG,QAAQ,IACV,KAAKC,KAAL,CAAWC,QAAX,CAAoBF,QAApB,CAdJ;AAeH,KApBqC;;AAAA,SAsBxCG,WAtBwC,GAsB1BC,SAAS,IAAI;AACzB,UAAIhB,GAAG,gDAAwCgB,SAAxC,CAAP;AACAf,MAAAA,KAAK,CAACD,GAAD,EAAK;AACRE,QAAAA,MAAM,EAAE,QADA;AAERC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT;AAFD,OAAL,CAAL,CAMCM,IAND,CAMOQ,IAAD,IAAQ;AACZ,YAAIC,QAAQ,GAAC,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,KAAK,IAAEA,KAAK,CAACC,EAAN,KAAaP,SAA5C,CAAb;AACA,aAAKQ,QAAL,CAAc;AACZJ,UAAAA,KAAK,EAAEF;AADK,SAAd;AAGD,OAXD;AAYD,KApCuC;;AAAA,SAsCtCO,WAtCsC,GAsCxB,MAAM;AAChB,WAAKZ,KAAL,CAAWa,eAAX,CAA2B,KAAKb,KAAL,CAAWc,OAAtC;AACH,KAxCqC;AAAA;;AA0CtCC,EAAAA,MAAM,GAAE;AACJC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKjB,KAAL,CAAWc,OAAvB,EADI,CAEJ;;AAFI,gCAG4C,KAAKd,KAAL,CAAWc,OAHvD;AAAA,UAGII,KAHJ,uBAGIA,KAHJ;AAAA,UAGWC,MAHX,uBAGWA,MAHX;AAAA,UAGmBC,QAHnB,uBAGmBA,QAHnB;AAAA,UAG6BC,KAH7B,uBAG6BA,KAH7B;AAAA,UAGoClC,GAHpC,uBAGoCA,GAHpC;AAIJ,WACI,oBAAC,IAAD;AAAM,MAAA,OAAO,EAAE,KAAKyB,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,KAAD;AAAO,MAAA,GAAG,EAAES,KAAZ;AAAmB,MAAA,OAAO,MAA1B;AAA2B,MAAA,EAAE,EAAE,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,oBAAC,IAAD,CAAM,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD,CAAM,MAAN;AAAa,MAAA,IAAI,EAAElC,GAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAyB+B,KAAzB,CADJ,EAEI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAM,MAAA,SAAS,EAAC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0BC,MAA1B,CADA,CAFJ,EAKI,oBAAC,IAAD,CAAM,WAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKC,QADL,CALJ,CAFJ,EAYI,KAAKpB,KAAL,CAAWC,QAAX,GAEC,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAGlB,KAAD,IAAS,KAAKD,YAAL,CAAkBC,KAAlB,EAAyB,KAAKiB,KAAL,CAAWsB,WAAX,CAAuBZ,EAAhD,EAAoD,KAAKV,KAAL,CAAWc,OAAX,CAAmBJ,EAAvE,CAA1B;AAAsG,MAAA,SAAS,EAAC,WAAhH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFD,GAIC,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,MAAI;AAAC,aAAKV,KAAL,CAAWE,WAAX,CAAuB,KAAKF,KAAL,CAAWO,KAAlC;AAAyC,OAA/D;AAAiE,MAAA,SAAS,EAAC,WAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAhBL,CADJ;AAqBH;;AAnEqC;;AAsE1C,eAAe3B,WAAf","sourcesContent":["import React from 'react'\nimport { Card, Button, Image, Form } from 'semantic-ui-react'\n\nclass ArticleCard extends React.Component {\n\n    handleSubmit = (event, user_id, article_id) => {\n        event.preventDefault()\n        let url=\"http://localhost:3010/api/v1/likes\"\n        fetch(url,{\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Accept\": \"application/json\",\n                \"Authorization\": `Bearer ${localStorage.token}`\n            },\n            body: JSON.stringify({\n                user_id: user_id,\n                article_id: article_id\n            })\n        })\n        .then(res=>res.json())\n        .then(response=>\n            this.props.addLikes(response))\n    }\n\n  deleteLikes = articleId => {\n    let url= `http://localhost:3010/api/v1/likes/${articleId}`\n    fetch(url,{\n      method: \"DELETE\",\n      headers: { \n        \"Content-Type\": \"application/json\"\n      }\n    })\n    .then((data)=>{\n      let filtered=this.state.likes.filter(liked=>liked.id !== articleId)\n      this.setState({\n        likes: filtered\n      })\n    })\n  }\n\n    handleClick = () => {\n        this.props.selectedArticle(this.props.article)\n    }\n\n    render(){\n        console.log(this.props.article)\n        // console.log(\"currentUser\", this.props.currentUser.id, \"articleID\", this.props.article.id)\n        const { title, author, overview, image, url } = this.props.article\n        return(\n            <Card onClick={this.handleClick}>\n                <Image src={image} wrapped ui={false} />\n                <Card.Content>\n                    <Card.Header href={url}>{title}</Card.Header>\n                    <Card.Meta>\n                    <span className='author'>{author}</span>\n                    </Card.Meta>\n                    <Card.Description>\n                        {overview}\n                    </Card.Description>\n            </Card.Content>\n            {\n                this.props.addLikes\n                ?\n                 <Button onClick={(event)=>this.handleSubmit(event, this.props.currentUser.id, this.props.article.id)} className=\"ui button\">Add Favorite</Button>\n                :\n                 <Button onClick={()=>{this.props.deleteLikes(this.props.likes)}} className=\"ui button\">Remove Favorite</Button>\n            }\n        </Card>\n        )\n    }\n}\n\nexport default ArticleCard\n\n"]},"metadata":{},"sourceType":"module"}