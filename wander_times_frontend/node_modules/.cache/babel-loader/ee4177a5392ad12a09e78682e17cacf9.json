{"ast":null,"code":"// import React,{ Fragment } from 'react';\n// import './App.css';\n// import CategoryContainer from './Containers/CategoryContainer'\n// import NavContainer from './Containers/NavContainer'\n// import MainContainer from './Containers/MainContainer'\n// import Login from './Components/Login'\n// import Signup from './Components/Signup'\n// import Profile from './Components/Profile'\n// import { Switch, Route, } from 'react-router-dom'\n// class App extends React.Component{\n//   state = {\n//     articles: [],\n//     // selectedArticles: [],\n//     loading: true, \n//     filter: \"\",\n//     selectedCategory: null, \n//     selectedArticle: [],\n//     currentUser: null,\n//     likes: []\n//   }\n//   componentDidMount(){\n//     // let url = \"https://newsapi.org/v2/everything?q=technology&from=2019-09-10&sortBy=publishedAt&apiKey=f0a7beb8be6040cfadf7471e6a6676b4\"\n//     let url = \"http://localhost:3010/api/v1/articles\"\n//     fetch(url)\n//     .then(resp=>resp.json())\n//     .then(article=>{\n//       this.setState({\n//         articles: article,\n//         // selectedArticles: article\n//       })\n//     })\n//     const token=localStorage.getItem(\"token\")\n//     if(token){\n//       fetch(\"http://localhost:3010/api/v1/auto_login\", {\n//               headers: {\n//                 \"Authorization\": token\n//             }\n//           })\n//           .then(res => res.json())\n//           .then(response=>{\n//             if(response.errors){\n//               localStorage.removeItem(\"user_id\")\n//               alert(response.errors)\n//             } else{\n//               this.setState({\n//                 currentUser: response\n//               })\n//             }\n//           })\n//         }\n//       }\n//   setCurrentUser = user =>{\n//     this.setState({\n//       currentUser: user\n//     })\n//   }\n//   logout = () =>{\n//     this.setState({\n//       currentUser: null\n//     })\n//     this.props.history.push('/')\n//   }\n//   // changeFilter = (filterInput) => {\n//   //   console.log(filterInput)\n//   //   this.setState({\n//   //     filter: filterInput\n//   //   })\n//   // }\n//   handleSearch = (event) => {\n//     this.setState({\n//       filter: event.target.value\n//     })\n//   }\n//   changeCategory = (category) => {\n//     this.setState({\n//       selectedCategory: category\n//     })\n//   }\n//   categoryFilter = () => {\n//     let selected;\n//     switch(this.state.selectedCategory){\n//       case \"tech\":\n//         selected= this.state.articles.filter(article=>article.category===\"tech\")\n//         break;\n//       case \"travel\":\n//         selected = this.state.articles.filter(article=>article.category===\"travel\")\n//         break;\n//       default:\n//         selected= this.state.articles\n//         break;\n//     }\n//     return selected\n//   }\n//   addLikes = selectedArticle => {\n//     this.setState({\n//       likes: [selectedArticle, ...this.state.likes]\n//     })\n//   }\n//   // handleSubmit = (event, user_id, article_id) => {\n//     //     event.preventDefault()\n//     //     let url=\"http://localhost:3010/api/v1/likes\"\n//     //     fetch(url,{\n//     //         method: \"POST\",\n//     //         headers: {\n//     //             \"Content-Type\": \"application/json\",\n//     //             \"Accept\": \"application/json\",\n//     //             \"Authorization\": `Bearer ${localStorage.token}`\n//     //         },\n//     //         body: JSON.stringify({\n//     //             user_id: user_id,\n//     //             article_id: article_id\n//     //         })\n//     //     })\n//     //     .then(res=>res.json())\n//     //     .then(response=> this.props.addLikes(response))\n//     // }\n//   // addLikes = articleObj => {\n//   //   if(!this.state.likes.includes(articleObj)){\n//   //     let url=\"http://localhost:3010/api/v1/likes\"\n//   //     fetch(url,{\n//   //       method: \"POST\",\n//   //       headers: {\n//   //         \"Content-Type\": \"application/json\",\n//   //         \"Accepts\": \"application/json\",\n//   //         \"Authorization\": `Bearer ${localStorage.token}`\n//   //       }, \n//   //       body: JSON.stringify({article_id: articleObj.id})\n//   //     })\n//   //     .then(res=>res.json())\n//   //     .then(liked=>{\n//   //       this.setState({\n//   //         likes: [liked, ...this.state.likes]\n//   //       })\n//   //     })\n//   //   }\n//   // }\n//   deleteLikes = articleId => {\n//     let url= `http://localhost:3010/api/v1/likes/${articleId}`\n//     fetch(url,{\n//       method: \"DELETE\",\n//       headers: {\n//         \"Content-Type\": \"application/json\",\n//         \"Accept\": \"application/json\"\n//       }\n//     })\n//     .then(()=>{\n//       let filtered=this.state.likes.filter(liked=>liked.id !== articleId)\n//       this.setState({\n//         likes: filtered\n//       })\n//     })\n//   }\n//   selectedArticle = article => {\n//     this.setState({\n//       selectedArticle: article \n//     })\n//   }\n//   render(){\n//     // {this.state.articles.filter(article=>{\n//     //   return article.title.toLowerCase().includes(this.state.filter.toLowerCase()) ||\n//     //          article.overview.toLowerCase().includes(this.state.filter.toLowerCase())\n//     // })}\n//     return(\n//       <div>\n//         <h1 href=\"/\" style={{textAlign:\"center\", color: \"dark grey\"}}> THE WANDER TIMES\n//         </h1>\n//         <NavContainer currentUser={this.state.currentUser}\n//                       handleSearch={this.handleSearch}\n//                       logout={this.logout}\n//                       />\n//            <Switch>\n//           <Route path='/users/:id' \n//                   render={(routerProps)=>{\n//                     return <Profile\n//                     deleteLikes={this.deleteLikes}\n//                     likes={this.state.likes}\n//                     articles={this.state.articles}\n//                     selectedArticle={this.selectedArticle}\n//                   {...routerProps}\n//            />\n//          }}></Route>\n//           <Route path='/login' \n//                  render={(routerProps)=>{\n//                      return <Login \n//                      setCurrentUser={this.setCurrentUser}\n//                      likes={this.state.likes}\n//                    {...routerProps}\n//             />\n//           }}></Route>\n//            <Route path='/signup' \n//                  render={(routerProps)=>{\n//                      return <Signup \n//                      setCurrentUser={this.setCurrentUser} \n//                    {...routerProps}\n//             />\n//           }}></Route>\n//           <Route path='/' render={(routerProps)=>{\n//             return  <Fragment> <CategoryContainer articles={this.state.articles}\n//             changeCategory={this.changeCategory}\n//             categoryFilter={this.categoryFilter} {...routerProps}\n//          />\n//         <MainContainer\n//         articles={this.categoryFilter()}\n//         filter={this.state.filter}\n//         addLikes={this.addLikes}\n//         deleteLikes={this.deleteLikes}\n//         currentUser={this.state.currentUser}\n//         selectedArticle={this.selectedArticle}\n//         />\n//           </Fragment>\n//           }}>\n//           </Route>\n//         </Switch>\n//       </div>  \n//     )\n//   }\n// }\n// export default App;","map":{"version":3,"sources":["/Users/stan-0/Desktop/personal projects/wander_times/wander_times_frontend/src/App.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["// import React,{ Fragment } from 'react';\n// import './App.css';\n// import CategoryContainer from './Containers/CategoryContainer'\n// import NavContainer from './Containers/NavContainer'\n// import MainContainer from './Containers/MainContainer'\n// import Login from './Components/Login'\n// import Signup from './Components/Signup'\n// import Profile from './Components/Profile'\n// import { Switch, Route, } from 'react-router-dom'\n\n// class App extends React.Component{\n//   state = {\n//     articles: [],\n//     // selectedArticles: [],\n//     loading: true, \n//     filter: \"\",\n//     selectedCategory: null, \n//     selectedArticle: [],\n//     currentUser: null,\n//     likes: []\n//   }\n\n//   componentDidMount(){\n//     // let url = \"https://newsapi.org/v2/everything?q=technology&from=2019-09-10&sortBy=publishedAt&apiKey=f0a7beb8be6040cfadf7471e6a6676b4\"\n//     let url = \"http://localhost:3010/api/v1/articles\"\n   \n//     fetch(url)\n//     .then(resp=>resp.json())\n//     .then(article=>{\n//       this.setState({\n//         articles: article,\n//         // selectedArticles: article\n//       })\n//     })\n//     const token=localStorage.getItem(\"token\")\n//     if(token){\n//       fetch(\"http://localhost:3010/api/v1/auto_login\", {\n//               headers: {\n//                 \"Authorization\": token\n//             }\n//           })\n//           .then(res => res.json())\n//           .then(response=>{\n//             if(response.errors){\n//               localStorage.removeItem(\"user_id\")\n//               alert(response.errors)\n//             } else{\n//               this.setState({\n//                 currentUser: response\n//               })\n//             }\n//           })\n//         }\n//       }\n\n//   setCurrentUser = user =>{\n//     this.setState({\n//       currentUser: user\n//     })\n//   }\n\n//   logout = () =>{\n//     this.setState({\n//       currentUser: null\n//     })\n//     this.props.history.push('/')\n//   }\n//   // changeFilter = (filterInput) => {\n//   //   console.log(filterInput)\n//   //   this.setState({\n//   //     filter: filterInput\n//   //   })\n//   // }\n\n//   handleSearch = (event) => {\n//     this.setState({\n//       filter: event.target.value\n//     })\n//   }\n\n//   changeCategory = (category) => {\n//     this.setState({\n//       selectedCategory: category\n//     })\n//   }\n\n//   categoryFilter = () => {\n//     let selected;\n//     switch(this.state.selectedCategory){\n//       case \"tech\":\n//         selected= this.state.articles.filter(article=>article.category===\"tech\")\n//         break;\n//       case \"travel\":\n//         selected = this.state.articles.filter(article=>article.category===\"travel\")\n//         break;\n//       default:\n//         selected= this.state.articles\n//         break;\n//     }\n//     return selected\n//   }\n\n//   addLikes = selectedArticle => {\n//     this.setState({\n//       likes: [selectedArticle, ...this.state.likes]\n//     })\n//   }\n\n\n//   // handleSubmit = (event, user_id, article_id) => {\n//     //     event.preventDefault()\n//     //     let url=\"http://localhost:3010/api/v1/likes\"\n//     //     fetch(url,{\n//     //         method: \"POST\",\n//     //         headers: {\n//     //             \"Content-Type\": \"application/json\",\n//     //             \"Accept\": \"application/json\",\n//     //             \"Authorization\": `Bearer ${localStorage.token}`\n//     //         },\n//     //         body: JSON.stringify({\n//     //             user_id: user_id,\n//     //             article_id: article_id\n//     //         })\n//     //     })\n//     //     .then(res=>res.json())\n//     //     .then(response=> this.props.addLikes(response))\n//     // }\n\n//   // addLikes = articleObj => {\n//   //   if(!this.state.likes.includes(articleObj)){\n//   //     let url=\"http://localhost:3010/api/v1/likes\"\n//   //     fetch(url,{\n//   //       method: \"POST\",\n//   //       headers: {\n//   //         \"Content-Type\": \"application/json\",\n//   //         \"Accepts\": \"application/json\",\n//   //         \"Authorization\": `Bearer ${localStorage.token}`\n//   //       }, \n//   //       body: JSON.stringify({article_id: articleObj.id})\n//   //     })\n//   //     .then(res=>res.json())\n//   //     .then(liked=>{\n//   //       this.setState({\n//   //         likes: [liked, ...this.state.likes]\n//   //       })\n//   //     })\n//   //   }\n//   // }\n\n//   deleteLikes = articleId => {\n//     let url= `http://localhost:3010/api/v1/likes/${articleId}`\n//     fetch(url,{\n//       method: \"DELETE\",\n//       headers: {\n//         \"Content-Type\": \"application/json\",\n//         \"Accept\": \"application/json\"\n//       }\n//     })\n//     .then(()=>{\n//       let filtered=this.state.likes.filter(liked=>liked.id !== articleId)\n//       this.setState({\n//         likes: filtered\n//       })\n//     })\n//   }\n\n//   selectedArticle = article => {\n//     this.setState({\n//       selectedArticle: article \n//     })\n//   }\n  \n//   render(){\n//     // {this.state.articles.filter(article=>{\n//     //   return article.title.toLowerCase().includes(this.state.filter.toLowerCase()) ||\n//     //          article.overview.toLowerCase().includes(this.state.filter.toLowerCase())\n//     // })}\n//     return(\n//       <div>\n//         <h1 href=\"/\" style={{textAlign:\"center\", color: \"dark grey\"}}> THE WANDER TIMES\n//         </h1>\n//         <NavContainer currentUser={this.state.currentUser}\n//                       handleSearch={this.handleSearch}\n//                       logout={this.logout}\n//                       />\n//            <Switch>\n//           <Route path='/users/:id' \n//                   render={(routerProps)=>{\n//                     return <Profile\n//                     deleteLikes={this.deleteLikes}\n//                     likes={this.state.likes}\n//                     articles={this.state.articles}\n//                     selectedArticle={this.selectedArticle}\n//                   {...routerProps}\n//            />\n//          }}></Route>\n//           <Route path='/login' \n//                  render={(routerProps)=>{\n//                      return <Login \n//                      setCurrentUser={this.setCurrentUser}\n//                      likes={this.state.likes}\n//                    {...routerProps}\n//             />\n//           }}></Route>\n//            <Route path='/signup' \n//                  render={(routerProps)=>{\n//                      return <Signup \n//                      setCurrentUser={this.setCurrentUser} \n//                    {...routerProps}\n//             />\n//           }}></Route>\n//           <Route path='/' render={(routerProps)=>{\n//             return  <Fragment> <CategoryContainer articles={this.state.articles}\n//             changeCategory={this.changeCategory}\n//             categoryFilter={this.categoryFilter} {...routerProps}\n//          />\n//         <MainContainer\n//         articles={this.categoryFilter()}\n//         filter={this.state.filter}\n//         addLikes={this.addLikes}\n//         deleteLikes={this.deleteLikes}\n//         currentUser={this.state.currentUser}\n//         selectedArticle={this.selectedArticle}\n//         />\n//           </Fragment>\n//           }}>\n//           </Route>\n//         </Switch>\n//       </div>  \n//     )\n//   }\n// }\n\n// export default App;\n"]},"metadata":{},"sourceType":"module"}