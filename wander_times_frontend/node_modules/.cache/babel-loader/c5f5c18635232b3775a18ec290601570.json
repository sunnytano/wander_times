{"ast":null,"code":"var _jsxFileName = \"/Users/stan-0/Desktop/personal projects/wander_times/wander_times_frontend/src/Components/ArticleCard.js\";\nimport React, { Fragment } from \"react\";\nimport { Card, Button, Image } from \"semantic-ui-react\";\n\nclass ArticleCard extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      clicked: false\n    };\n\n    this.handleButton = event => {\n      this.handleSubmit(event, this.props.currentUser.id, this.props.article.id);\n      this.handleColor();\n    };\n\n    this.handleColor = () => {\n      this.setState({\n        clicked: !this.state.clicked\n      });\n    };\n\n    this.handleSubmit = (event, user_id, article_id) => {\n      if (!this.props.likes.find(liked => liked.article_id === article_id)) {\n        event.preventDefault();\n        let url = \"http://localhost:3010/api/v1/likes\";\n        fetch(url, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Accept: \"application/json\",\n            Authorization: \"Bearer \".concat(localStorage.token)\n          },\n          body: JSON.stringify({\n            user_id: user_id,\n            article_id: article_id\n          })\n        }).then(res => res.json()).then(response => this.props.addLikes(response));\n      }\n    };\n\n    this.handleDelete = articleId => {\n      let url = \"http://localhost:3010/api/v1/likes/\".concat(articleId);\n      fetch(url, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(() => {\n        this.props.deleteLikes(articleId);\n      });\n    };\n\n    this.handleClick = () => {\n      this.props.selectedArticle(this.props.article);\n    };\n  }\n\n  render() {\n    // }\n    console.log(this.props.currentUser);\n    let btn = !this.state.clicked ? \"black\" : \"white\"; // console.log(\"currentUser\", this.props.currentUser.id, \"articleID\", this.props.article.id)\n\n    const _this$props$article = this.props.article,\n          title = _this$props$article.title,\n          author = _this$props$article.author,\n          overview = _this$props$article.overview,\n          image = _this$props$article.image,\n          url = _this$props$article.url;\n    return React.createElement(Card, {\n      onClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Image, {\n      src: image,\n      wrapped: true,\n      ui: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(Card.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: url,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, title)), React.createElement(Card.Meta, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"author\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, author)), React.createElement(Card.Description, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, overview)), this.props.currentUser ? React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, this.props.addLikes ? React.createElement(Button, {\n      onClick: e => this.handleButton(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, this.props.likes ? \"Add Favorite\" : \"Added!\") : React.createElement(Button, {\n      className: btn,\n      style: !this.state.clicked ? {\n        backgroundColor: \"grey\"\n      } : {\n        backgroundColor: \"green\"\n      },\n      onClick: () => {\n        this.handleDelete(this.props.likes.id);\n      },\n      className: \"ui button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Remove Favorite\")) : React.createElement(Button, {\n      onClick: () => window.alert(\"sign in first\"),\n      className: \"ui button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Add Favorite\"));\n  }\n\n}\n\nexport default ArticleCard;","map":{"version":3,"sources":["/Users/stan-0/Desktop/personal projects/wander_times/wander_times_frontend/src/Components/ArticleCard.js"],"names":["React","Fragment","Card","Button","Image","ArticleCard","Component","state","clicked","handleButton","event","handleSubmit","props","currentUser","id","article","handleColor","setState","user_id","article_id","likes","find","liked","preventDefault","url","fetch","method","headers","Accept","Authorization","localStorage","token","body","JSON","stringify","then","res","json","response","addLikes","handleDelete","articleId","deleteLikes","handleClick","selectedArticle","render","console","log","btn","title","author","overview","image","e","backgroundColor","window","alert"],"mappings":"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","sourcesContent":["import React, { Fragment } from \"react\";\nimport { Card, Button, Image } from \"semantic-ui-react\";\n\nclass ArticleCard extends React.Component {\n  state = {\n    clicked: false\n  };\n\n  handleButton = event => {\n    this.handleSubmit(event, this.props.currentUser.id, this.props.article.id);\n    this.handleColor();\n  };\n\n  handleColor = () => {\n    this.setState({\n      clicked: !this.state.clicked\n    });\n  };\n\n  handleSubmit = (event, user_id, article_id) => {\n    if (!this.props.likes.find(liked => liked.article_id === article_id)) {\n      event.preventDefault();\n      let url = \"http://localhost:3010/api/v1/likes\";\n      fetch(url, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n          Authorization: `Bearer ${localStorage.token}`\n        },\n        body: JSON.stringify({\n          user_id: user_id,\n          article_id: article_id\n        })\n      })\n        .then(res => res.json())\n        .then(response => this.props.addLikes(response));\n    }\n  };\n\n  handleDelete = articleId => {\n    let url = `http://localhost:3010/api/v1/likes/${articleId}`;\n    fetch(url, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(() => {\n      this.props.deleteLikes(articleId);\n    });\n  };\n\n  handleClick = () => {\n    this.props.selectedArticle(this.props.article);\n  };\n\n  render() {\n\n    // }\n    console.log(this.props.currentUser);\n    let btn = !this.state.clicked ? \"black\" : \"white\";\n    // console.log(\"currentUser\", this.props.currentUser.id, \"articleID\", this.props.article.id)\n    const { title, author, overview, image, url } = this.props.article;\n    return (\n      <Card onClick={this.handleClick}>\n        <Image src={image} wrapped ui={false} />\n        <Card.Content>\n          <Card.Header>\n            <a href={url}>{title}</a>\n          </Card.Header>\n          <Card.Meta>\n            <span className=\"author\">{author}</span>\n          </Card.Meta>\n          <Card.Description>{overview}</Card.Description>\n        </Card.Content>\n\n        {this.props.currentUser ? (\n          <Fragment>\n            {this.props.addLikes ? (\n              <Button onClick={e => this.handleButton(e)}>\n                {this.props.likes ? \"Add Favorite\" : \"Added!\"}\n              </Button>\n            ) : (\n              <Button\n                className={btn}\n                style={\n                  !this.state.clicked\n                    ? { backgroundColor: \"grey\" }\n                    : { backgroundColor: \"green\" }\n                }\n                onClick={() => {\n                  this.handleDelete(this.props.likes.id);\n                }}\n                className=\"ui button\"\n              >\n                Remove Favorite\n              </Button>\n            )}\n          </Fragment>\n        ) : (\n          <Button\n            onClick={() => window.alert(\"sign in first\")}\n            className=\"ui button\"\n          >\n            Add Favorite\n          </Button>\n        )}\n      </Card>\n    );\n  }\n}\n\nexport default ArticleCard;\n"]},"metadata":{},"sourceType":"module"}