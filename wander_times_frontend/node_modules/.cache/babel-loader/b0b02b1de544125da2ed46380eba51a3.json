{"ast":null,"code":"var _jsxFileName = \"/Users/stan-0/Desktop/personal projects/wander_times/wander_times_frontend/src/App.js\";\nimport React, { Fragment } from \"react\";\nimport \"./App.css\";\nimport CategoryContainer from \"./Containers/CategoryContainer\";\nimport NavContainer from \"./Containers/NavContainer\";\nimport MainContainer from \"./Containers/MainContainer\";\nimport Login from \"./Components/Login\";\nimport Signup from \"./Components/Signup\";\nimport Profile from \"./Components/Profile\";\nimport { Switch, Route } from \"react-router-dom\";\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      articles: [],\n      loading: true,\n      filter: \"\",\n      selectedCategory: null,\n      selectedArticle: [],\n      currentUser: null,\n      likes: [],\n      backgroundColor: \"black\"\n    };\n\n    this.setCurrentUser = user => {\n      this.setState({\n        currentUser: user\n      });\n    };\n\n    this.logout = () => {\n      this.setState({\n        currentUser: null\n      });\n    };\n\n    this.handleSearch = event => {\n      this.setState({\n        filter: event.target.value\n      });\n    };\n\n    this.changeCategory = category => {\n      this.setState({\n        selectedCategory: category\n      });\n    };\n\n    this.categoryFilter = () => {\n      let selected;\n\n      switch (this.state.selectedCategory) {\n        case \"travel\":\n          selected = this.state.articles.filter(article => article.category === \"travel\");\n          break;\n\n        default:\n          selected = this.state.articles.filter(article => article.category === \"tech\");\n          break;\n      }\n\n      return selected;\n    };\n\n    this.addLikes = selectedArticle => {\n      this.setState({\n        likes: [selectedArticle, ...this.state.likes],\n        backgroundColor: \"white\"\n      });\n    };\n\n    this.selectedArticle = article => {\n      console.log(article);\n      this.setState({\n        selectedArticle: article\n      });\n    };\n  }\n\n  componentDidMount() {\n    let url = \"http://localhost:3010/api/v1/articles\";\n    fetch(url).then(resp => resp.json()).then(article => {\n      this.setState({\n        articles: article\n      });\n    });\n    const token = localStorage.getItem(\"token\");\n\n    if (token) {\n      fetch(\"http://localhost:3010/api/v1/auto_login\", {\n        headers: {\n          Authorization: token\n        }\n      }).then(res => res.json()).then(response => {\n        if (response.errors) {\n          localStorage.removeItem(\"user_id\");\n          alert(response.errors);\n        } else {\n          this.setState({\n            currentUser: response\n          });\n        }\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      href: \"/\",\n      style: {\n        textAlign: \"center\",\n        color: \"dark grey\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"THE WANDER TIMES\", \" \"), React.createElement(NavContainer, {\n      currentUser: this.state.currentUser,\n      handleSearch: this.handleSearch,\n      logout: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/users/:id\",\n      render: routerProps => {\n        return React.createElement(Profile, Object.assign({\n          deleteLikes: this.deleteLikes,\n          likes: this.state.likes,\n          articles: this.categoryFilter(),\n          selectedArticle: this.selectedArticle,\n          currentUser: this.state.currentUser,\n          backgroundColor: this.state.backgroundColor\n        }, routerProps, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/login\",\n      render: routerProps => {\n        return React.createElement(Login, Object.assign({\n          setCurrentUser: this.setCurrentUser\n        }, routerProps, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/signup\",\n      render: routerProps => {\n        return React.createElement(Signup, Object.assign({\n          setCurrentUser: this.setCurrentUser\n        }, routerProps, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/\",\n      render: routerProps => {\n        return React.createElement(Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, React.createElement(CategoryContainer, Object.assign({\n          articles: this.state.articles,\n          changeCategory: this.changeCategory,\n          categoryFilter: this.categoryFilter\n        }, routerProps, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        })), React.createElement(MainContainer, {\n          articles: this.categoryFilter(),\n          filter: this.state.filter,\n          addLikes: this.addLikes,\n          currentUser: this.state.currentUser,\n          selectedArticle: this.selectedArticle,\n          deleteLikes: this.deleteLikes,\n          likes: this.state.likes,\n          backgroundColor: this.state.backgroundColor,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/stan-0/Desktop/personal projects/wander_times/wander_times_frontend/src/App.js"],"names":["React","Fragment","CategoryContainer","NavContainer","MainContainer","Login","Signup","Profile","Switch","Route","App","Component","state","articles","loading","filter","selectedCategory","selectedArticle","currentUser","likes","backgroundColor","setCurrentUser","user","setState","logout","handleSearch","event","target","value","changeCategory","category","categoryFilter","selected","article","addLikes","console","log","componentDidMount","url","fetch","then","resp","json","token","localStorage","getItem","headers","Authorization","res","response","errors","removeItem","alert","render","textAlign","color","routerProps","deleteLikes"],"mappings":"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","sourcesContent":["import React, { Fragment } from \"react\";\nimport \"./App.css\";\nimport CategoryContainer from \"./Containers/CategoryContainer\";\nimport NavContainer from \"./Containers/NavContainer\";\nimport MainContainer from \"./Containers/MainContainer\";\nimport Login from \"./Components/Login\";\nimport Signup from \"./Components/Signup\";\nimport Profile from \"./Components/Profile\";\nimport { Switch, Route } from \"react-router-dom\";\n\nclass App extends React.Component {\n  state = {\n    articles: [],\n    loading: true,\n    filter: \"\",\n    selectedCategory: null,\n    selectedArticle: [],\n    currentUser: null,\n    likes: [],\n    backgroundColor: \"black\"\n  };\n\n  componentDidMount() {\n    let url = \"http://localhost:3010/api/v1/articles\";\n    fetch(url)\n      .then(resp => resp.json())\n      .then(article => {\n        this.setState({\n          articles: article\n        });\n      });\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      fetch(\"http://localhost:3010/api/v1/auto_login\", {\n        headers: {\n          Authorization: token\n        }\n      })\n        .then(res => res.json())\n        .then(response => {\n          if (response.errors) {\n            localStorage.removeItem(\"user_id\");\n            alert(response.errors);\n          } else {\n            this.setState({\n              currentUser: response\n            });\n          }\n        });\n    }\n  }\n\n  setCurrentUser = user => {\n    this.setState({\n      currentUser: user\n    });\n  };\n\n  logout = () => {\n    this.setState({\n      currentUser: null\n    });\n  };\n  // changeFilter = (filterInput) => {\n  //   console.log(filterInput)\n  //   this.setState({\n  //     filter: filterInput\n  //   })\n  // }\n\n  handleSearch = event => {\n    this.setState({\n      filter: event.target.value\n    });\n  };\n\n  changeCategory = category => {\n    this.setState({\n      selectedCategory: category\n    });\n  };\n\n  categoryFilter = () => {\n    let selected;\n    switch (this.state.selectedCategory) {\n      case \"travel\":\n        selected = this.state.articles.filter(\n          article => article.category === \"travel\"\n        );\n        break;\n      default:\n        selected = this.state.articles.filter(\n          article => article.category === \"tech\"\n        );\n        break;\n    }\n    return selected;\n  };\n\n  addLikes = selectedArticle => {\n    this.setState({\n      likes: [selectedArticle, ...this.state.likes],\n      backgroundColor: \"white\"\n    });\n  };\n\n  selectedArticle = article => {\n    console.log(article);\n    this.setState({\n      selectedArticle: article\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <h1 href=\"/\" style={{ textAlign: \"center\", color: \"dark grey\" }}>\n          THE WANDER TIMES{\" \"}\n        </h1>\n        <NavContainer\n          currentUser={this.state.currentUser}\n          handleSearch={this.handleSearch}\n          logout={this.logout}\n        />\n        <Switch>\n          <Route\n            path=\"/users/:id\"\n            render={routerProps => {\n              return (\n                <Profile\n                  deleteLikes={this.deleteLikes}\n                  likes={this.state.likes}\n                  articles={this.categoryFilter()}\n                  selectedArticle={this.selectedArticle}\n                  currentUser={this.state.currentUser}\n                  backgroundColor={this.state.backgroundColor}\n                  {...routerProps}\n                />\n              );\n            }}\n          ></Route>\n          <Route\n            path=\"/login\"\n            render={routerProps => {\n              return (\n                <Login setCurrentUser={this.setCurrentUser} {...routerProps} />\n              );\n            }}\n          ></Route>\n          <Route\n            path=\"/signup\"\n            render={routerProps => {\n              return (\n                <Signup setCurrentUser={this.setCurrentUser} {...routerProps} />\n              );\n            }}\n          ></Route>\n          <Route\n            path=\"/\"\n            render={routerProps => {\n              return (\n                <Fragment>\n                  <CategoryContainer\n                    articles={this.state.articles}\n                    changeCategory={this.changeCategory}\n                    categoryFilter={this.categoryFilter}\n                    {...routerProps}\n                  />\n                  <MainContainer\n                    articles={this.categoryFilter()}\n                    filter={this.state.filter}\n                    addLikes={this.addLikes}\n                    currentUser={this.state.currentUser}\n                    selectedArticle={this.selectedArticle}\n                    deleteLikes={this.deleteLikes}\n                    likes={this.state.likes}\n                    backgroundColor={this.state.backgroundColor}\n                  />\n                </Fragment>\n              );\n            }}\n          ></Route>\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}